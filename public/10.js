(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{26:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r={name:"LanguageMenu",$_veeValidate:{validator:"new"},data:function(){return{lang:[],tabs:3,tab:null,pagination:{current:1,total:0},circle:!0,nextIcon:"navigate_next",prevIcon:"navigate_before",totalVisible:5,error:!1,isLoading:!0,search:{name:""},dialog:!1,headers:[{text:"ID",align:"left",value:"id"},{text:"Key",value:"key"},{text:"Actions",value:"action",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{},defaultItem:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Store Category":"Edit Store Category"}},watch:{dialog:function(e){e||this.close()}},mounted:function(){this.initialize()},methods:{initialize:function(){var e=this;e.isLoading=!0,axios.get("/moderatorAPI/showLanguageTemplate?name="+this.search.name+"&lang="+this.$route.params.group+"&page="+this.pagination.current).then((function(t){e.desserts=t.data.data,e.pagination.current=t.data.current_page,e.pagination.total=t.data.last_page})).catch((function(e){i.a.fire({type:"error",title:"Oops...",text:"Something went wrong!",footer:"<a href>Why do I have this issue?</a>"})})).finally((function(){e.isLoading=!1}))},initializePage:function(){var e=this;axios.get("/moderatorAPI/showFAQ?page="+this.pagination.current).then((function(t){e.pagination.current=t.data.current_page,e.pagination.total=t.data.last_page})).catch((function(e){i.a.fire({type:"error",title:"Oops...",text:"Something went wrong!"})}))},onPageChange:function(){this.initialize()},searchStore:function(){this.pagination.current=1,this.initialize()},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.lang=this.editedItem.text,this.dialog=!0},close:function(){var e=this;this.dialog=!1,this.error=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){var e=this;this.$validator.validateAll().then((function(t){if(t)if(e.editedIndex>-1){var a=e,n=a.editedItem,r=new FormData;r.append("group",n.group),r.append("key",n.key),r.append("lang",JSON.stringify(e.lang)),axios.post("/moderatorAPI/updateLanguageMenu",r).then((function(e){"success"===e.data.case?(a.initialize(),a.close()):i.a.fire({type:"error",title:e.data.title,text:e.data.content})})).catch((function(e){i.a.fire({type:"error",title:e.data.title,text:e.data.content})}))}else{var o=e,s=o.editedItem,l=new FormData;l.append("name_az",s.name_az),l.append("name_ru",s.name_ru),l.append("name_en",s.name_en),axios.post("/moderatorAPI/createStoreCategory",l).then((function(e){"success"===e.data.case?(o.initialize(),o.close()):i.a.fire({type:"error",title:e.data.title,text:e.data.content})})).catch((function(e){i.a.fire({type:"error",title:"Oops...",text:e.content})}))}else e.error=!0}))},deleteItem:function(e){this.desserts.indexOf(e);var t=this;i.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&axios.delete("/moderatorAPI/deleteStoreCategory/"+e.id).then((function(e){if("success"===e.data.case){var a=t.pagination.current;t.initializePage(),i.a.fire("Deleted!","Your file has been deleted.","success").finally((function(){a>=t.pagination.total?t.pagination.current=t.pagination.total:t.pagination.current=a,t.initialize()}))}else i.a.fire({type:"error",title:e.data.title,text:e.data.content})})).catch((function(e){i.a.fire({type:"error",title:"Oops...",text:e})}))}))}}},o=a(1),s=Object(o.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("div",{staticClass:"container"},[a("h1",[e._v(e._s(e.$route.params.group))]),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,"disable-sort":"","disable-filtering":"","loading-text":"Loading... Please wait",loading:e.isLoading,"hide-default-footer":"",dark:""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{attrs:{label:"Name","single-line":"","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchStore()}},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}}),e._v(" "),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),e._v(" "),a("v-card-text",[a("v-container",[a("v-row",[e.error?a("v-col",{attrs:{cols:"12"}},[a("v-alert",{attrs:{type:"error"}},[e._v("\n                        Please fill correctly all inputs !\n                      ")])],1):e._e(),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{disabled:"",label:"ID"},model:{value:e.editedItem.id,callback:function(t){e.$set(e.editedItem,"id",t)},expression:"editedItem.id"}})],1),e._v(" "),[a("v-tabs",{staticClass:"elevation-2",attrs:{"background-color":"deep-purple accent-4",dark:"",centered:!0,grow:!0},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider"),e._v(" "),a("v-tab",{key:"az",attrs:{href:"#tab-az"}},[e._v("\n                          AZ\n                        ")]),e._v(" "),a("v-tab",{key:"ru",attrs:{href:"#tab-ru"}},[e._v("\n                          RU\n                        ")]),e._v(" "),a("v-tab",{key:"en",attrs:{href:"#tab-en"}},[e._v("\n                          EN\n                        ")]),e._v(" "),a("v-tab-item",{key:"az",attrs:{value:"tab-az"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("ckeditor",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:"","error-messages":e.errors.collect("name_az"),"data-vv-name":"name_az",label:"Name"},model:{value:e.lang.az,callback:function(t){e.$set(e.lang,"az",t)},expression:"lang.az"}})],1)],1)],1),e._v(" "),a("v-tab-item",{key:"ru",attrs:{value:"tab-ru"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("ckeditor",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:"","error-messages":e.errors.collect("name_ru"),"data-vv-name":"name_ru",label:"Name"},model:{value:e.lang.ru,callback:function(t){e.$set(e.lang,"ru",t)},expression:"lang.ru"}})],1)],1)],1),e._v(" "),a("v-tab-item",{key:"en",attrs:{value:"tab-en"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("ckeditor",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:"","error-messages":e.errors.collect("name_en"),"data-vv-name":"name_en",label:"Name"},model:{value:e.lang.en,callback:function(t){e.$set(e.lang,"en",t)},expression:"lang.en"}})],1)],1)],1)],1)]],2)],1)],1),e._v(" "),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("\n          edit\n        ")])]}},{key:"no-data",fn:function(){return[a("h2",[e._v("There is nothing!")]),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])}),e._v(" "),[a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{length:e.pagination.total,circle:e.circle,"next-icon":e.nextIcon,"prev-icon":e.prevIcon,"total-visible":e.totalVisible},on:{input:e.onPageChange},model:{value:e.pagination.current,callback:function(t){e.$set(e.pagination,"current",t)},expression:"pagination.current"}})],1)]],2)])}),[],!1,null,null,null);t.default=s.exports}}]);